
(defn f [x]
  (assert (instance? Maybe x))
  (map x inc))

(defn g [x]
  (assert (instance? Maybe x))
  (map x (fn [n] (subs n 1))))

(defn h [x]
  (f x)
  (g x))

(main [_]
  ;; TODO: this gives the wrong error message
  ;; (h nothing)
  (print-err 'howdy))

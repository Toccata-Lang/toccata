
(deftype OneType [x]
  Stringable
  (string-list [_] (list "<OneType " (str x) ">")))

(deftype AnotherType [x z]
  Stringable
  (string-list [_] (list "<AnotherType " (str z) ">")))

(deftype BothTypes (any-of OneType
                           AnotherType))

(defn only-one [xtreme]
  ! xtreme OneType

  xtreme)

(defn only-another [xtreme]
  ! xtreme AnotherType

  xtreme)

(defn bad [xtreme]
  ! xtreme BothTypes

  [(only-one xtreme)
   (only-another xtreme)])

(main [_]
      (println 'FAIL))


(deftype Third [x]
  ;; Stringable
  ;; (string-list [_]
  ;;   (list "(Third " (str x) ")"))
  )

(deftype Second [y z]
  (assert (instance? Third z))

  ;; Stringable
  ;; (string-list [_]
  ;;   (list "(Second " (str x) ")"))
  )

(defn f [_ v q]
  (assert (instance? Second v))

  (.z v
      (.x
       (.z v)
       q)))

(main [_]
  (-> (f 'wur (Second 's (Third 9)) 'q)
      .z
      .x
      inc))

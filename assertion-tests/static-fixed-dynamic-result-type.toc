
(defn f [x]
  (assert (instance? (type-of x) x))
  ;; (assert-result r (type-of x))

  (either (map (instance? Integer x) inc)
          (subs x 1)))

(main [_]
  (inc (f "some str"))
  (print-err 'FAIL))
